{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport var initialState = {\n  isAddingComment: false,\n  commentAdded: false,\n  addCommentErrorReason: '',\n  addPostErrorReason: '',\n  // 포스트 업로드 실패 이유\n  isAddingPost: false,\n  // 포스트 업로드 중\n  imagePaths: [],\n  mainPosts: [{\n    id: 1,\n    User: {\n      id: 1,\n      nickname: '오한민'\n    },\n    content: '1 번째 게시글',\n    img: 'data:image/png;base64,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',\n    Comments: []\n  }, {\n    User: {\n      id: 2,\n      nickname: '오한민'\n    },\n    content: '2 번째 게시글',\n    img: 'https://sb-content-file.s3-ap-northeast-1.amazonaws.com/smallbridge_favicon.png',\n    Comments: []\n  }]\n};\nvar dummyPost = {\n  id: 2,\n  content: '나는 더미입니다.',\n  Comments: [],\n  // img: 'https://sb-content-file.s3-ap-northeast-1.amazonaws.com/smallbridge_favicon.png'\n  User: {\n    id: 1,\n    nickname: '오한민'\n  }\n};\nvar dummyComment = {\n  id: 1,\n  User: {\n    id: 1,\n    nickname: '제로초'\n  },\n  createdAt: new Date(),\n  content: '더미 댓글입니다.'\n};\nexport var ADD_POST_REQUEST = 'ADD_POST_REQUEST';\nexport var ADD_POST_SUCCESS = 'ADD_POST_SUCCESS';\nexport var ADD_POST_FAILURE = 'ADD_POST_FAILURE';\nexport var ADD_COMMENT_REQUEST = 'ADD_COMMENT_REQUEST';\nexport var ADD_COMMENT_SUCCESS = 'ADD_COMMENT_SUCCESS';\nexport var ADD_COMMENT_FAILURE = 'ADD_COMMENT_FAILURE';\nexport var LOAD_MAIN_POSTS_REQUEST = 'LOAD_MAIN_POSTS_REQUEST';\nexport var LOAD_MAIN_POSTS_SUCCESS = 'LOAD_MAIN_POSTS_SUCCESS';\nexport var LOAD_MAIN_POSTS_FAILURE = 'LOAD_MAIN_POSTS_FAILURE';\nexport var ADD_DUMMY = 'ADD_DUMMY';\nvar addDummy = {\n  type: ADD_DUMMY,\n  data: {\n    content: 'Hello',\n    UserId: 1,\n    User: {\n      nickname: '제로초'\n    }\n  }\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_POST_REQUEST:\n      {\n        return _objectSpread({}, state, {\n          addPostErrorReason: '',\n          isAddingPost: true\n        });\n      }\n\n    case ADD_POST_SUCCESS:\n      {\n        return _objectSpread({}, state, {\n          // mainPosts: [dummyPost, ...state.mainPosts],\n          // mainPosts: [action.data, ...state.mainPosts],\n          isAddingPost: false\n        });\n      }\n\n    case ADD_POST_FAILURE:\n      {\n        return _objectSpread({}, state, {\n          addPostErrorReason: action.error,\n          isAddingPost: false\n        });\n      }\n\n    case ADD_DUMMY:\n      {\n        return _objectSpread({}, state, {\n          mainPosts: [action.data].concat(_toConsumableArray(state.mainPosts))\n        });\n      }\n\n    case ADD_COMMENT_REQUEST:\n      {\n        return _objectSpread({}, state, {\n          isAddingComment: true,\n          commentAdded: false,\n          addCommentErrorReason: ''\n        });\n      }\n\n    case ADD_COMMENT_SUCCESS:\n      {\n        var postIndex = state.mainPosts.findIndex(function (v) {\n          return v.id === action.data.postId;\n        });\n        var post = state.mainPosts[postIndex];\n        var Comments = [].concat(_toConsumableArray(post.Comments), [dummyComment]);\n\n        var mainPosts = _toConsumableArray(state.mainPosts);\n\n        mainPosts[postIndex] = _objectSpread({}, post, {\n          Comments: Comments\n        });\n        return _objectSpread({}, state, {\n          isAddingComment: false,\n          commentAdded: true,\n          mainPosts: mainPosts\n        });\n      }\n\n    case ADD_COMMENT_FAILURE:\n      {\n        return _objectSpread({}, state, {\n          isAddingComment: false,\n          addCommentErrorReason: action.error\n        });\n      }\n\n    case LOAD_MAIN_POSTS_REQUEST:\n      {\n        return _objectSpread({}, state, {\n          mainPosts: []\n        });\n      }\n\n    case LOAD_MAIN_POSTS_SUCCESS:\n      {\n        console.log('MAINPOSTS = ' + _JSON$stringify(action.data));\n        return _objectSpread({}, state, {\n          mainPosts: action.data\n        });\n      }\n\n    case LOAD_MAIN_POSTS_FAILURE:\n      {\n        return _objectSpread({}, state);\n      }\n\n    default:\n      {\n        return _objectSpread({}, state);\n      }\n  }\n});","map":{"version":3,"sources":["C:/Program Files/Git/usr/react-nodebird/ch5/front/reducers/post.js"],"names":["initialState","isAddingComment","commentAdded","addCommentErrorReason","addPostErrorReason","isAddingPost","imagePaths","mainPosts","id","User","nickname","content","img","Comments","dummyPost","dummyComment","createdAt","Date","ADD_POST_REQUEST","ADD_POST_SUCCESS","ADD_POST_FAILURE","ADD_COMMENT_REQUEST","ADD_COMMENT_SUCCESS","ADD_COMMENT_FAILURE","LOAD_MAIN_POSTS_REQUEST","LOAD_MAIN_POSTS_SUCCESS","LOAD_MAIN_POSTS_FAILURE","ADD_DUMMY","addDummy","type","data","UserId","state","action","error","postIndex","findIndex","v","postId","post","console","log"],"mappings":"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","sourcesContent":["export const initialState = {\r\n    isAddingComment: false,\r\n    commentAdded: false,\r\n    addCommentErrorReason: '',\r\n\r\n    addPostErrorReason: '', // 포스트 업로드 실패 이유\r\n    isAddingPost: false, // 포스트 업로드 중\r\n    imagePaths: [],    \r\n    mainPosts: [{\r\n        id: 1,\r\n        User: {\r\n            id: 1,\r\n            nickname: '오한민',\r\n        },\r\n        content: '1 번째 게시글',\r\n        img: 'data:image/png;base64,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',\r\n        Comments: [],\r\n    }, {\r\n        User: {\r\n            id: 2,\r\n            nickname: '오한민',\r\n        },\r\n        content: '2 번째 게시글',\r\n        img: 'https://sb-content-file.s3-ap-northeast-1.amazonaws.com/smallbridge_favicon.png',\r\n        Comments: [],\r\n    }],\r\n};\r\n\r\nconst dummyPost = {\r\n    id: 2,\r\n    content: '나는 더미입니다.',\r\n    Comments: [],\r\n    // img: 'https://sb-content-file.s3-ap-northeast-1.amazonaws.com/smallbridge_favicon.png'\r\n    User: {\r\n        id: 1,\r\n        nickname: '오한민',\r\n    },\r\n}\r\n\r\nconst dummyComment = {\r\n    id: 1,\r\n    User: {\r\n      id: 1,\r\n      nickname: '제로초',\r\n    },\r\n    createdAt: new Date(),\r\n    content: '더미 댓글입니다.',\r\n  };\r\n\r\nexport const ADD_POST_REQUEST = 'ADD_POST_REQUEST';\r\nexport const ADD_POST_SUCCESS = 'ADD_POST_SUCCESS';\r\nexport const ADD_POST_FAILURE = 'ADD_POST_FAILURE';\r\n\r\nexport const ADD_COMMENT_REQUEST = 'ADD_COMMENT_REQUEST';\r\nexport const ADD_COMMENT_SUCCESS = 'ADD_COMMENT_SUCCESS';\r\nexport const ADD_COMMENT_FAILURE = 'ADD_COMMENT_FAILURE';\r\n\r\nexport const LOAD_MAIN_POSTS_REQUEST = 'LOAD_MAIN_POSTS_REQUEST';\r\nexport const LOAD_MAIN_POSTS_SUCCESS = 'LOAD_MAIN_POSTS_SUCCESS';\r\nexport const LOAD_MAIN_POSTS_FAILURE = 'LOAD_MAIN_POSTS_FAILURE';\r\n\r\nexport const ADD_DUMMY = 'ADD_DUMMY';\r\n\r\nconst addDummy = {\r\n    type: ADD_DUMMY,\r\n    data: {\r\n        content: 'Hello',\r\n        UserId: 1,\r\n        User: {\r\n            nickname: '제로초',\r\n        }\r\n    }\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST_REQUEST: {\r\n            return {\r\n                ...state,\r\n                addPostErrorReason: '',\r\n                isAddingPost: true\r\n            }\r\n        }       \r\n        case ADD_POST_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                // mainPosts: [dummyPost, ...state.mainPosts],\r\n                // mainPosts: [action.data, ...state.mainPosts],\r\n                isAddingPost: false\r\n            }\r\n        }\r\n        case ADD_POST_FAILURE: {\r\n            return {\r\n                ...state,\r\n                addPostErrorReason: action.error,\r\n                isAddingPost: false\r\n            }\r\n        }\r\n        case ADD_DUMMY: {\r\n            return {\r\n                ...state,\r\n                mainPosts: [action.data, ...state.mainPosts],\r\n            }\r\n        }\r\n        case ADD_COMMENT_REQUEST: {\r\n            return {\r\n                ...state,\r\n                isAddingComment: true,\r\n                commentAdded: false,\r\n                addCommentErrorReason: ''\r\n            }\r\n        }\r\n        case ADD_COMMENT_SUCCESS: {\r\n            const postIndex = state.mainPosts.findIndex(v => v.id === action.data.postId);\r\n            const post = state.mainPosts[postIndex];\r\n            const Comments = [...post.Comments, dummyComment];\r\n            const mainPosts = [...state.mainPosts];\r\n            mainPosts[postIndex] = { ...post, Comments };\r\n\r\n            return {\r\n                ...state,\r\n                isAddingComment: false,\r\n                commentAdded: true,\r\n                mainPosts,\r\n            }\r\n        }\r\n        case ADD_COMMENT_FAILURE: {\r\n            return {\r\n                ...state,\r\n                isAddingComment: false,\r\n                addCommentErrorReason: action.error,\r\n            }\r\n        }\r\n        case LOAD_MAIN_POSTS_REQUEST: {\r\n            return {\r\n                ...state,\r\n                mainPosts: [],\r\n            }\r\n        }       \r\n        case LOAD_MAIN_POSTS_SUCCESS: {\r\n            console.log('MAINPOSTS = ' + JSON.stringify(action.data));\r\n            return {\r\n                ...state,\r\n                mainPosts: action.data,\r\n            }\r\n        }\r\n        case LOAD_MAIN_POSTS_FAILURE: {\r\n            return {\r\n                ...state,\r\n            }\r\n        }\r\n        default: {\r\n            return {...state};\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}