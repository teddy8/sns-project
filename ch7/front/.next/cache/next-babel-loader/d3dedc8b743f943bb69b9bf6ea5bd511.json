{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport { Input, Button, Card, Form, List, Icon } from 'antd';\nimport NicknameEditForm from '../components/NicknameEditForm';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { LOAD_FOLLOWERS_REQUEST, LOAD_FOLLOWINGS_REQUEST, REMOVE_FOLLOWER_REQUEST, UNFOLLOW_USER_REQUEST } from '../reducers/user';\n\nconst Profile = () => {\n  const {\n    me,\n    followerList,\n    followingList\n  } = useSelector(state => state.user);\n  const dispatch = useDispatch(); // useEffect(() => {\n  //     if (me) {\n  //         dispatch({\n  //             type: LOAD_FOLLOWERS_REQUEST,\n  //             data: me.id\n  //         })\n  //         dispatch({\n  //             type: LOAD_FOLLOWINGS_REQUEST,\n  //             data: me.id\n  //         })\n  //     }\n  // }, [me && me.id])\n\n  const onUnFollow = userId => () => {\n    dispatch({\n      type: UNFOLLOW_USER_REQUEST,\n      data: userId\n    });\n  };\n\n  const onRemoveFollower = userId => () => {\n    dispatch({\n      type: REMOVE_FOLLOWER_REQUEST,\n      data: userId\n    });\n  };\n\n  return __jsx(\"div\", null, __jsx(NicknameEditForm, null), __jsx(List, {\n    style: {\n      marginBottom: '20px'\n    },\n    grid: {\n      gutter: 4,\n      xs: 2,\n      md: 3\n    },\n    size: \"small\",\n    header: __jsx(\"div\", null, \"\\uD314\\uB85C\\uC789 \\uBAA9\\uB85D\"),\n    loadMore: __jsx(Button, {\n      style: {\n        width: '100%'\n      }\n    }, \"\\uB354 \\uBCF4\\uAE30\"),\n    bordered: true,\n    dataSource: followingList,\n    renderItem: item => __jsx(List.Item, {\n      style: {\n        marginTop: '20px'\n      }\n    }, __jsx(Card, {\n      actions: [__jsx(Icon, {\n        key: \"stop\",\n        type: \"stop\",\n        onClick: onUnFollow(item.id)\n      })]\n    }, __jsx(Card.Meta, {\n      description: item.nickname\n    })))\n  }), __jsx(List, {\n    style: {\n      marginBottom: '20px'\n    },\n    grid: {\n      gutter: 4,\n      xs: 2,\n      md: 3\n    },\n    size: \"small\",\n    header: __jsx(\"div\", null, \"\\uD314\\uB85C\\uC6CC \\uBAA9\\uB85D\"),\n    loadMore: __jsx(Button, {\n      style: {\n        width: '100%'\n      }\n    }, \"\\uB354 \\uBCF4\\uAE30\"),\n    bordered: true,\n    dataSource: followerList,\n    renderItem: item => __jsx(List.Item, {\n      style: {\n        marginTop: '20px'\n      }\n    }, __jsx(Card, {\n      actions: [__jsx(Icon, {\n        key: \"stop\",\n        type: \"stop\",\n        onClick: onRemoveFollower(item.id)\n      })]\n    }, __jsx(Card.Meta, {\n      description: item.nickname\n    })))\n  }));\n};\n\nProfile.getInitialProps = async context => {\n  const state = context.store.getState();\n  const me = state.user.me;\n  console.log('me=', me);\n\n  if (me) {\n    context.store.dispatch({\n      type: LOAD_FOLLOWERS_REQUEST,\n      data: me.id\n    });\n    context.store.dispatch({\n      type: LOAD_FOLLOWINGS_REQUEST,\n      data: me.id\n    });\n  }\n};\n\nexport default Profile;","map":{"version":3,"sources":["C:/Program Files/Git/usr/react-nodebird/ch7/front/pages/profile.js"],"names":["React","useEffect","Input","Button","Card","Form","List","Icon","NicknameEditForm","useDispatch","useSelector","LOAD_FOLLOWERS_REQUEST","LOAD_FOLLOWINGS_REQUEST","REMOVE_FOLLOWER_REQUEST","UNFOLLOW_USER_REQUEST","Profile","me","followerList","followingList","state","user","dispatch","onUnFollow","userId","type","data","onRemoveFollower","marginBottom","gutter","xs","md","width","item","marginTop","id","nickname","getInitialProps","context","store","getState","console","log"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { Input, Button, Card, Form, List, Icon } from 'antd'\r\nimport NicknameEditForm from '../components/NicknameEditForm'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n    LOAD_FOLLOWERS_REQUEST, LOAD_FOLLOWINGS_REQUEST,\r\n    REMOVE_FOLLOWER_REQUEST, UNFOLLOW_USER_REQUEST\r\n} from '../reducers/user'\r\n\r\nconst Profile = () => {\r\n    const { me, followerList, followingList } = useSelector(state => state.user);\r\n    const dispatch = useDispatch();\r\n\r\n    // useEffect(() => {\r\n    //     if (me) {\r\n    //         dispatch({\r\n    //             type: LOAD_FOLLOWERS_REQUEST,\r\n    //             data: me.id\r\n    //         })\r\n    //         dispatch({\r\n    //             type: LOAD_FOLLOWINGS_REQUEST,\r\n    //             data: me.id\r\n    //         })\r\n    //     }\r\n    // }, [me && me.id])\r\n\r\n    const onUnFollow = userId => () => {\r\n        dispatch({\r\n            type: UNFOLLOW_USER_REQUEST,\r\n            data: userId\r\n        })\r\n    }\r\n\r\n    const onRemoveFollower = userId => () => {\r\n        dispatch({\r\n            type: REMOVE_FOLLOWER_REQUEST,\r\n            data: userId\r\n        })\r\n    }\r\n\r\n    return  (\r\n    <div>\r\n        <NicknameEditForm />\r\n        <List \r\n            style={{ marginBottom: '20px' }}\r\n            grid={{ gutter: 4, xs: 2, md: 3 }}\r\n            size=\"small\"\r\n            header={<div>팔로잉 목록</div>}\r\n            loadMore={<Button style={{ width: '100%' }}>더 보기</Button>}\r\n            bordered\r\n            dataSource={followingList}\r\n            renderItem={item => (\r\n                <List.Item style={{ marginTop: '20px' }}>\r\n                    <Card actions={[<Icon key='stop' type=\"stop\" onClick={onUnFollow(item.id)} />]}>\r\n                        <Card.Meta description={item.nickname} />\r\n                    </Card>\r\n                </List.Item>\r\n            )}\r\n        />\r\n        <List \r\n            style={{ marginBottom: '20px' }}\r\n            grid={{ gutter: 4, xs: 2, md: 3 }}\r\n            size=\"small\"\r\n            header={<div>팔로워 목록</div>}\r\n            loadMore={<Button style={{ width: '100%' }}>더 보기</Button>}\r\n            bordered\r\n            dataSource={followerList}\r\n            renderItem={item => (\r\n                <List.Item style={{ marginTop: '20px' }}>\r\n                    <Card actions={[<Icon key='stop' type=\"stop\" onClick={onRemoveFollower(item.id)} />]}>\r\n                        <Card.Meta description={item.nickname} />\r\n                    </Card>\r\n                </List.Item>\r\n            )}\r\n        />\r\n    </div> \r\n    )\r\n}\r\n\r\nProfile.getInitialProps = async (context) => {\r\n    const state = context.store.getState();\r\n    const me = state.user.me;\r\n    console.log('me=', me);\r\n    \r\n    if (me) {\r\n        context.store.dispatch({\r\n            type: LOAD_FOLLOWERS_REQUEST,\r\n            data: me.id\r\n        })\r\n        context.store.dispatch({\r\n            type: LOAD_FOLLOWINGS_REQUEST,\r\n            data: me.id\r\n        })\r\n    }\r\n}\r\n\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}