{"version":3,"file":"static/webpack/static\\development\\pages\\profile.js.c184c872259095e422ad.hot-update.js","sources":["webpack:///./pages/profile.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { Input, Button, Card, Form, List, Icon } from 'antd'\r\nimport NicknameEditForm from '../components/NicknameEditForm'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n    LOAD_FOLLOWERS_REQUEST, LOAD_FOLLOWINGS_REQUEST,\r\n    REMOVE_FOLLOWER_REQUEST, UNFOLLOW_USER_REQUEST\r\n} from '../reducers/user'\r\n\r\nconst Profile = () => {\r\n    const { me, followerList, followingList } = useSelector(state => state.user);\r\n    const dispatch = useDispatch();\r\n\r\n    // useEffect(() => {\r\n    //     if (me) {\r\n    //         dispatch({\r\n    //             type: LOAD_FOLLOWERS_REQUEST,\r\n    //             data: me.id\r\n    //         })\r\n    //         dispatch({\r\n    //             type: LOAD_FOLLOWINGS_REQUEST,\r\n    //             data: me.id\r\n    //         })\r\n    //     }\r\n    // }, [me && me.id])\r\n\r\n    const onUnFollow = userId => () => {\r\n        dispatch({\r\n            type: UNFOLLOW_USER_REQUEST,\r\n            data: userId\r\n        })\r\n    }\r\n\r\n    const onRemoveFollower = userId => () => {\r\n        dispatch({\r\n            type: REMOVE_FOLLOWER_REQUEST,\r\n            data: userId\r\n        })\r\n    }\r\n\r\n    return  (\r\n    <div>\r\n        <NicknameEditForm />\r\n        <List \r\n            style={{ marginBottom: '20px' }}\r\n            grid={{ gutter: 4, xs: 2, md: 3 }}\r\n            size=\"small\"\r\n            header={<div>팔로잉 목록</div>}\r\n            loadMore={<Button style={{ width: '100%' }}>더 보기</Button>}\r\n            bordered\r\n            dataSource={followingList}\r\n            renderItem={item => (\r\n                <List.Item style={{ marginTop: '20px' }}>\r\n                    <Card actions={[<Icon key='stop' type=\"stop\" onClick={onUnFollow(item.id)} />]}>\r\n                        <Card.Meta description={item.nickname} />\r\n                    </Card>\r\n                </List.Item>\r\n            )}\r\n        />\r\n        <List \r\n            style={{ marginBottom: '20px' }}\r\n            grid={{ gutter: 4, xs: 2, md: 3 }}\r\n            size=\"small\"\r\n            header={<div>팔로워 목록</div>}\r\n            loadMore={<Button style={{ width: '100%' }}>더 보기</Button>}\r\n            bordered\r\n            dataSource={followerList}\r\n            renderItem={item => (\r\n                <List.Item style={{ marginTop: '20px' }}>\r\n                    <Card actions={[<Icon key='stop' type=\"stop\" onClick={onRemoveFollower(item.id)} />]}>\r\n                        <Card.Meta description={item.nickname} />\r\n                    </Card>\r\n                </List.Item>\r\n            )}\r\n        />\r\n    </div> \r\n    )\r\n}\r\n\r\nProfile.getInitialProps = async (context) => {\r\n    const state = context.store.getState();\r\n    const me = state.user.me;\r\n    console.log('me=', me);\r\n    \r\n    if (me) {\r\n        context.store.dispatch({\r\n            type: LOAD_FOLLOWERS_REQUEST,\r\n            data: me.id\r\n        })\r\n        context.store.dispatch({\r\n            type: LOAD_FOLLOWINGS_REQUEST,\r\n            data: me.id\r\n        })\r\n    }\r\n}\r\n\r\nexport default Profile;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AACA;AAAA;AADA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AALA;AACA;AAMA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AALA;AACA;AAMA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAHA;AARA;AAiBA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAHA;AARA;AAkBA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAgBA;;;;A","sourceRoot":""}